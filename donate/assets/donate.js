!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.donate={})}(this,function(e){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function n(e,t){const n=document.createElement(e);return t&&Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function i(e){return"qrcode"===e.type?function(e){let t=e.qrcode;if("string"==typeof t){const e=t;(t=new Image).src=e}const i=n("div",{className:"donate-qrcode"});return i.appendChild(t),{image:e.image,text:e.text,onClick(e){e.popup(i)}}}(e):function(e){return{image:e.image,text:e.text,onClick(){window.open(e.url)}}}(e)}function o(e){let t=e.el;const o=e.logo,a=e.entries,d={popup:s};"string"==typeof t&&(t=document.querySelector(t)),t.classList.add("donate-widget");const c=n("div",{className:"donate-wrap"});if(t.appendChild(c),o&&o.image){const e=n("div",{className:"donate-logo"});if(e.appendChild(n("img",{src:o.image})),o.text){const t=n("div");t.textContent=o.text,e.appendChild(t)}c.appendChild(e)}const r=n("div",{className:"donate-panel"});c.appendChild(r),a.forEach(e=>{const t=i(e),o=n("div",{className:"donate-item"});let a;t.image?a=n("img",{src:t.image}):(a=n("span")).textContent=t.text,o.appendChild(a),t.onClick&&o.addEventListener("click",()=>{t.onClick(d)},!1),r.appendChild(o)});const p=n("div",{className:"donate-popup"});return t.appendChild(p),p.addEventListener("click",()=>{s()},!1),d;function s(e){e?(t.classList.add("donate-popup-active"),"string"==typeof e?p.innerHTML=e:(p.innerHTML="",p.appendChild(e))):t.classList.remove("donate-popup-active")}}e.initJQuery=function(e){if(!(e=e||window.$))throw new Error("jQuery not found!");e.fn.initDonate=function(e){return o(t({el:this[0]},e))}},e.initDonate=o,Object.defineProperty(e,"__esModule",{value:!0})});
